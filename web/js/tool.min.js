Array.prototype.indexOf=function(b){for(var a=0;a<this.length;a++){if(this[a]==b){return a}}return -1};Array.prototype.remove=function(b){var a=this.indexOf(b);if(a>-1){this.splice(a,1)}};Array.prototype.queue=function(){var c=this,b=c.length,d=0,a=[],f=[];if(b===0){return 0}c=c.unique();c.sort();for(var e=0;e<=c[c.length-1];e++){a.push(e)}f=Array.minus(a,c);if(f.length>0){d=f[0]}else{d=b}return d};Array.prototype.each=function(f){f=f||Function.K;var b=[];var c=Array.prototype.slice.call(arguments,1);for(var e=0;e<this.length;e++){var d=f.apply(this,[this[e],e].concat(c));if(d!=null){b.push(d)}}return b};Array.prototype.contains=function(a){return RegExp("\\b"+a+"\\b").test(this)};Array.prototype.unique=function(){var b=new Array();for(var a=0;a<this.length;a++){if(!b.contains(this[a])){b.push(this[a])}}return b};Array.complement=function(d,c){return Array.minus(Array.union(d,c),Array.intersect(d,c))};Array.intersect=function(d,c){return d.unique().each(function(a){return c.contains(a)?a:null})};Array.minus=function(d,c){return d.unique().each(function(a){return c.contains(a)?null:a})};Array.union=function(d,c){return d.concat(c).unique()};CanvasRenderingContext2D.prototype.dashedLineTo=function(g,e,h,f,c){if(typeof c==="undefined"){c=5}var l=(h-g);var j=(f-e);var a=Math.floor(Math.sqrt(l*l+j*j));var d=(c<=0)?a:(a/c);var i=(j/a)*c;var k=(l/a)*c;this.beginPath();for(var b=0;b<d;b++){if(b%2){this.lineTo(g+b*k,e+b*i)}else{this.moveTo(g+b*k,e+b*i)}}this.stroke()};Date.prototype.Format=function(a){var c={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S":this.getMilliseconds()};if(/(y+)/.test(a)){a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var b in c){if(new RegExp("("+b+")").test(a)){a=a.replace(RegExp.$1,(RegExp.$1.length==1)?(c[b]):(("00"+c[b]).substr((""+c[b]).length)))}}return a};window.isTouch=function(a){return a.type.search("touch")>-1};(function(a){a.fn.serializeJson=function(){var b={};a(this.serializeArray()).each(function(){b[this.name]=this.value});return b};a.extend({confirm:function(f){var h=a.extend({event:"click",title:"Confirm",message:"Are you sure?",btn:["no","yes"],onCancel:null,onSuccess:null},f);var b=a("#modal-confirm"),g=b.find(".modal-header h4"),e=b.find(".modal-body"),d=b.find(".modal-footer .no"),c=b.find(".modal-footer .yes");g.html(h.title);e.html(h.message);d.html(h.btn[0]);c.html(h.btn[1]);b.modal("show");d.off(h.event).on(h.event,function(){if(h.onCancel){h.onCancel()}});c.off(h.event).on(h.event,function(){if(h.onSuccess){h.onSuccess()}b.modal("hide")});return b}})})(jQuery);